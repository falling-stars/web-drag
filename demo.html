<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .scroll-container {
      user-select: none;
      overflow: auto;
      width: 500px;
      height: 500px;
      border: solid 1px green;
    }

    .scroll-container div {
      width: 700px;
      height: 500px;
      display: inline-block;
      border: solid 1px red;
      background-color: #ccc;
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="scroll-container">
    <div>1</div>
    <div>2</div>
    <div>3</div>
    <div>4</div>
    <div>5</div>
    <div>6</div>
    <div>7</div>
    <div>8</div>
    <div>9</div>
  </div>
  <script>
    class DragScroll {
      constructor(option) {
        this.initData(option)
        option.mode === 'scroll' && this.setScrollMode()
      }

      initData(option) {
        this.el = option.el
        // set scroll speed
        this.speedX = this.speedY = option.speed || 1
        if(option.x && typeof option.x.speed === 'number'){
          this.speedX = option.x.speed
        }
        if(option.y && typeof option.y.speed === 'number'){
          this.speedY = option.y.speed
        }
        this.draggingClassName = option.draggingClassName || 'dragging'
      }

      setScrollMode() {
        const targetElement = this.el
        targetElement.addEventListener('mousedown', e => {
          if (e.buttons === 1 && e.button === 0) {
            this.allowMove = true
            e.preventDefault()
          }
        })
        targetElement.addEventListener('mouseup', e => {
          this.allowMove = false
          targetElement.classList.remove(this.draggingClassName)
          e.preventDefault()
        })
        targetElement.addEventListener('mouseleave', e => {
          this.allowMove = false
          targetElement.classList.remove(this.draggingClassName)
          e.preventDefault()
        })
        targetElement.addEventListener('mousemove', e => {
          if (this.allowMove) {
            if(!targetElement.classList.contains(this.draggingClassName)){
              targetElement.classList.add(this.draggingClassName)
            }
            targetElement.scrollLeft = targetElement.scrollLeft - e.movementX * this.speedX
            targetElement.scrollTop = targetElement.scrollTop - e.movementY * this.speedY
            e.preventDefault()
          }
        })
      }
    }

    new DragScroll({
      el: document.querySelector('.scroll-container'),
      mode: 'scroll',
      speed: 1,
      x: {
        speed: 1
      },
      y: {
        speed: 2
      },
      draggingClassName: 'dsa'
    })
  </script>
</body>

</html>